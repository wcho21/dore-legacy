---
import BaseLayout from "@layouts/Base.astro";
import { sortPostsByDateInDecOrder } from "@js/postSort.js";
import { formatDate } from "@js/dateFormat.js";

let posts = await Astro.glob(["./posts/**/*.md", "./posts/**/*.mdx"]);
posts = sortPostsByDateInDecOrder(posts);
---
<BaseLayout>
  <h1>Astro</h1>
  <ul>
    {posts.map(post => (
    <li>
      <p><a href={post.url}>{post.frontmatter.title}</a></p>
      <p>{formatDate(new Date(post.frontmatter.date))}</p>
    </li>
    ))}
  </ul>
</BaseLayout>
